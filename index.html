<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Lesson: Family Trees</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fdfbf7;      
            --nav-bg: #ffffff;    
            --mint: #e0f2f1;   
            --peach: #fff3e0;  
            --lavender: #f3e5f5; 
            --blue: #e3f2fd;
            --accent: #ffb74d;
            --text-main: #455a64;
            --font-main: 'Quicksand', sans-serif;
            --font-hand: 'Patrick Hand', cursive;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-main);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- TOP NAVIGATION --- */
        .top-nav {
            height: 70px;
            background: var(--nav-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 40px;
            gap: 15px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.03);
            z-index: 100;
        }

        .nav-item {
            padding: 8px 18px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            color: #90a4ae;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .nav-item:hover { background: #f5f7f9; }
        .nav-item.active { 
            background: var(--mint); 
            color: #00796b; 
            border-color: #b2dfdb;
        }
        .nav-item.surprise-nav.active {
            background: var(--peach);
            color: #e65100;
            border-color: #ffe0b2;
        }

        /* --- MAIN STAGE --- */
        .main-stage {
            flex: 1;
            padding: 15px 40px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .slide { 
            display: none; 
            height: 100%; 
            flex-direction: column; 
            animation: fadeIn 0.4s ease-out;
        }
        .slide.active-slide { display: flex; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h1 { 
            font-family: var(--font-hand); 
            font-size: 2.8rem; 
            margin: 0 0 10px 0; 
            color: #37474f;
        }

        /* --- CONTENT FRAMES --- */
        .content-frame {
            flex: 1;
            background: white;
            border-radius: 30px;
            border: 8px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.04);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin: 5px 0 15px 0;
            max-height: 55vh; 
        }
        .content-frame img { max-width: 100%; max-height: 100%; object-fit: contain; }

        /* --- VOCABULARY ROW --- */
        .vocab-row {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 10px 0;
            flex-wrap: wrap;
        }
        .vocab-pill {
            background: white;
            padding: 12px 18px;
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
            border: 1px solid #eceff1;
            font-weight: 700;
            font-size: 1.2rem;
            display: flex; 
            align-items: center; 
            gap: 10px; 
            color: #455a64;
        }
        .vocab-pill span { font-size: 1.8rem; }

        /* --- SCAFFOLDING AREA --- */
        .scaffold-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 5px;
        }
        .scaffold-box {
            background: white; padding: 12px 25px; border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.02); border: 1px solid #f1f3f4;
            display: flex; flex-direction: column; justify-content: center;
        }
        .scaffold-box h3 { margin: 0 0 8px 0; font-size: 0.85rem; color: #90a4ae; text-transform: uppercase; letter-spacing: 1px; }
        .phrase-list { display: flex; flex-direction: column; gap: 4px; }
        .phrase-item { display: flex; align-items: center; gap: 10px; font-size: 1.2rem; font-weight: 600; }
        .label-blue { color: #0288d1; font-weight: 700; }
        .label-green { color: #2e7d32; font-weight: 700; }
        .feedback-row { display: flex; flex-wrap: wrap; gap: 8px; }
        .feedback-pill { padding: 6px 12px; border-radius: 12px; font-size: 0.95rem; font-weight: 700; }
        .positive { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        .negative { background: #fff3e0; color: #e65100; border: 1px solid #ffe0b2; }

        /* --- PLAN CARDS --- */
        .plan-card {
            background: white; padding: 40px 35px; border-radius: 35px; 
            display: flex; align-items: center; gap: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.04);
        }
        .plan-icon {
            width: 90px; height: 90px; border-radius: 25px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 3rem; flex-shrink: 0;
        }
        .plan-content b { font-size: 1.8rem; color: #37474f; display: block; margin-bottom: 8px; }
        .plan-content small { font-size: 1.2rem; color: #78909c; }

        /* --- MISSION SLIDE --- */
        .mission-briefing {
            flex: 1; display: flex; flex-direction: column; gap: 15px; justify-content: center;
        }
        .mission-step {
            background: white; padding: 20px 30px; border-radius: 25px;
            border-left: 10px solid var(--accent); box-shadow: 0 10px 30px rgba(0,0,0,0.04);
            display: flex; align-items: center; gap: 25px;
        }
        .step-icon { font-size: 3rem; }
        .step-text b { font-size: 1.5rem; color: #37474f; display: block; }
        .step-text p { font-size: 1.2rem; margin: 5px 0 0 0; color: #546e7a; }

        .book-tip {
            background: #e3f2fd; border: 2px dashed #90caf9; padding: 15px 30px;
            border-radius: 20px; align-self: center; display: flex; align-items: center; gap: 15px; margin-top: 10px;
        }

        /* --- QUIZ STAGE --- */
        .quiz-stage {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            max-width: 800px; margin: 0 auto; width: 100%;
        }
        .q-card {
            background: white; width: 100%; padding: 30px; border-radius: 35px; text-align: center;
            box-shadow: 0 15px 30px rgba(0,0,0,0.03); border: 1px solid #eceff1; margin-bottom: 25px;
            min-height: 200px; display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .emoji-display { font-size: 5rem; margin-bottom: 10px; }
        .a-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; }
        .a-btn {
            background: white; border: 2px solid #eceff1; padding: 18px 25px; border-radius: 20px;
            font-size: 1.3rem; font-weight: 700; cursor: pointer; transition: all 0.2s;
        }
        .a-btn.selected { background: #fff3e0 !important; border-color: #ffb74d !important; color: #e65100; }
        .a-btn.correct { background: #e8f5e9 !important; border-color: #81c784 !important; color: #2e7d32; }
        .a-btn.wrong { background: #ffebee !important; border-color: #e57373 !important; color: #c62828; }
        .progress-bar { width: 100%; height: 10px; background: #eceff1; border-radius: 5px; margin-top: 30px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.4s; }

        .result-overlay {
            position: absolute; inset: 0; background: var(--bg-color); display: none;
            flex-direction: column; align-items: center; justify-content: center; z-index: 200;
            text-align: center; padding: 40px;
        }
    </style>
</head>
<body>

    <nav class="top-nav">
        <div class="nav-item active" onclick="showSlide(0)">üè† Welcome</div>
        <div class="nav-item" onclick="showSlide(1)">üìñ 1. Vocab</div>
        <div class="nav-item" onclick="showSlide(2)">üå≥ 2. Tree</div>
        <div class="nav-item" onclick="showSlide(3)">üïµÔ∏è 3. Mission</div>
        <div class="nav-item surprise-nav" onclick="showSlide(4)">‚ùì 4. ???</div>
    </nav>

    <div class="main-stage">

        <!-- SLIDE 0: PLAN -->
        <div id="slide0" class="slide active-slide">
            <h1>Our plan for today</h1>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; max-width: 1100px; margin-top: 10px;">
                <div class="plan-card" style="border-left: 12px solid var(--lavender);">
                    <div class="plan-icon" style="background: var(--lavender);">‚ú®</div>
                    <div class="plan-content"><b>1. Family Words</b><small>uncle, aunt, twins...</small></div>
                </div>
                <div class="plan-card" style="border-left: 12px solid var(--blue);">
                    <div class="plan-icon" style="background: var(--blue);">üå≥</div>
                    <div class="plan-content"><b>2. Family Tree</b><small>Tandem activity</small></div>
                </div>
                <div class="plan-card" style="border-left: 12px solid var(--peach);">
                    <div class="plan-icon" style="background: var(--peach);">ü§ù</div>
                    <div class="plan-content"><b>3. Secret Mission</b><small>Partner riddle</small></div>
                </div>
                <div class="plan-card" style="border-left: 12px solid #cfd8dc;">
                    <div class="plan-icon" style="background: #eceff1;">‚ùì</div>
                    <div class="plan-content"><b style="margin:0; font-size: 2.5rem;">4. ???</b></div>
                </div>
            </div>
        </div>

        <!-- SLIDE 1: VOCABULARY -->
        <div id="slide1" class="slide">
            <h1>1. Let's talk about family</h1>
            <div class="content-frame">
                <img src="https://i.postimg.cc/h4LVB4r3/Whats-App-Image-2026-01-18-at-17-55-19.jpg" alt="Vocabulary Page">
            </div>
            <div class="vocab-row">
                <div class="vocab-pill" style="background: var(--mint)"><span>üíçüíç</span>married</div>
                <div class="vocab-pill" style="background: #ffcdd2"><span>üíç‚ö°üíç</span>divorced</div>
                <div class="vocab-pill" style="background: var(--lavender)"><span>üë§</span>single</div>
                <div class="vocab-pill" style="background: #e1f5fe"><span>üëØ</span>twins</div>
            </div>
        </div>

        <!-- SLIDE 2: TREE & PHRASES -->
        <div id="slide2" class="slide">
            <h1>2. Leo's Family Tree</h1>
            <div class="content-frame">
                <img src="https://i.postimg.cc/MHXrfcdc/leos-family.png" alt="Leo's Tree">
            </div>
            
            <div class="scaffold-grid">
                <div class="scaffold-box">
                    <h3>üó£Ô∏è Talk to your partner</h3>
                    <div class="phrase-list">
                        <div class="phrase-item">
                            <span class="label-blue">Question:</span> 
                            <span>"Who is Leo's <b>uncle</b>?"</span>
                        </div>
                        <div class="phrase-item">
                            <span class="label-green">Answer:</span> 
                            <span>"<b>He/She</b> is Leo's ..."</span>
                        </div>
                    </div>
                </div>

                <div class="scaffold-box">
                    <h3>üåü Good job!</h3>
                    <div class="feedback-row">
                        <div class="feedback-pill positive">"Yes, that's right! ‚úÖ"</div>
                        <div class="feedback-pill positive">"Well done! üåü"</div>
                        <div class="feedback-pill negative">"No. Try again! ü§î"</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: YOUR MISSION -->
        <div id="slide3" class="slide">
            <h1>3. Your Secret Mission üïµÔ∏è</h1>
            <div class="mission-briefing">
                <div class="mission-step">
                    <div class="step-icon">üîí</div>
                    <div class="step-text">
                        <b>1. Pick a person</b>
                        <p>Choose one person from the family tree. Keep it secret!</p>
                    </div>
                </div>
                <div class="mission-step" style="border-left-color: var(--blue);">
                    <div class="step-icon">üìù</div>
                    <div class="step-text">
                        <b>2. Write 3 clues</b>
                        <p>Use: "I am...", "My brother is...", "I have a..."</p>
                    </div>
                </div>
                <div class="mission-step" style="border-left-color: var(--mint);">
                    <div class="step-icon">üë•</div>
                    <div class="step-text">
                        <b>3. Let others guess</b>
                        <p>Ask: "Who are you?" / Answer: "I am ..."</p>
                    </div>
                </div>

                <div class="book-tip">
                    <span style="font-size: 2rem;">üí°</span>
                    <div style="font-size: 1.1rem; color: #0277bd;">
                        <b>Need help?</b> Use your book: <b>Page 139</b> (Word bank 4: families)
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: QUIZ -->
        <div id="slide4" class="slide">
            <div id="resOverlay" class="result-overlay">
                <div id="resIcon" style="font-size: 6rem;">‚ú®</div>
                <h2 id="resTitle">WELL DONE!</h2>
                <div id="resScore" style="font-weight:bold; font-size:1.4rem; margin:10px 0;"></div>
                <button class="btn-restart" onclick="resetQuiz()" style="padding:10px 20px; border-radius:10px; cursor:pointer; background:#455a64; color:white; border:none;">Try again?</button>
            </div>

            <div class="quiz-stage">
                <div class="q-card" id="qBox"></div>
                <div class="a-grid" id="ansGrid">
                    <button class="a-btn" onclick="handleAns(0)" id="ans0">Option</button>
                    <button class="a-btn" onclick="handleAns(1)" id="ans1">Option</button>
                    <button class="a-btn" onclick="handleAns(2)" id="ans2">Option</button>
                    <button class="a-btn" onclick="handleAns(3)" id="ans3">Option</button>
                </div>
                <div class="progress-bar"><div class="progress-fill" id="pFill"></div></div>
            </div>
        </div>

    </div>

    <script>
        let currentSlide = 0;
        const totalSlides = 5;

        function showSlide(n) {
            if (n < 0) n = 0;
            if (n >= totalSlides) n = totalSlides - 1;
            currentSlide = n;
            document.querySelectorAll('.slide').forEach((s, index) => s.classList.toggle('active-slide', index === n));
            document.querySelectorAll('.nav-item').forEach((item, index) => item.classList.toggle('active', index === n));
            if(n === 4) loadQ();
        }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowRight') showSlide(currentSlide + 1);
            else if (event.key === 'ArrowLeft') showSlide(currentSlide - 1);
        });

        // Quiz Logic
        const questions = [
            { q: "Sarah is Emily's...", a: ["grandma", "mother", "aunt", "sister"], c: 1 },
            { type: "emoji", q: "Pick the correct word:", emoji: "üíç‚ö°üíç", a: ["married", "single", "divorced", "uncle"], c: 2 },
            { q: "Lily is my sister. Noah is my brother. Who am I?", a: ["Jack", "Noah", "Leo", "Tom"], c: 2 },
            { q: "Chris is Emily's brother. Chris is Leo's...", a: ["father", "uncle", "son", "brother"], c: 1 },
            { q: "John is Jack's...", a: ["grandpa", "uncle", "father", "son"], c: 0 },
            { q: "Kate is Tom's...", a: ["grandma", "aunt", "mother", "sister"], c: 3 },
            { type: "emoji", q: "Pick the correct word:", emoji: "üíçüíç", a: ["married", "single", "divorced", "twins"], c: 0 },
            { q: "Noah is a boy. Tom is his father. Noah is Tom's...", a: ["son", "daughter", "brother", "uncle"], c: 0 }
        ];

        let cur = 0; let correctCount = 0; let isLocked = false;

        function loadQ() {
            if(cur >= questions.length) { showRes(); return; }
            isLocked = false; const data = questions[cur]; const qBox = document.getElementById('qBox');
            if(data.type === "emoji") { qBox.innerHTML = `<div class="emoji-display">${data.emoji}</div><p class="q-text" style="font-size:1.8rem; margin:0; font-family:'Patrick Hand'">${data.q}</p>`; } 
            else { qBox.innerHTML = `<p class="q-text" style="font-size:2.2rem; margin:0; font-family:'Patrick Hand'">${data.q}</p>`; }
            for(let i=0; i<4; i++) { const b = document.getElementById('ans' + i); b.innerText = data.a[i]; b.className = 'a-btn'; b.style.background = "white"; }
            document.getElementById('pFill').style.width = (cur / questions.length * 100) + '%';
        }

        function handleAns(idx) {
            if(isLocked) return; isLocked = true;
            const btns = document.querySelectorAll('.a-btn'); btns[idx].classList.add('selected');
            setTimeout(() => {
                const data = questions[cur];
                if(idx === data.c) { correctCount++; btns[idx].classList.remove('selected'); btns[idx].classList.add('correct'); } 
                else { btns[idx].classList.remove('selected'); btns[idx].classList.add('wrong'); btns[data.c].classList.add('correct'); }
                setTimeout(() => { cur++; loadQ(); }, 1500);
            }, 1500);
        }

        function showRes() {
            const over = document.getElementById('resOverlay'); over.style.display = 'flex';
            document.getElementById('resScore').innerText = `Result: ${correctCount} / ${questions.length}`;
            if(correctCount === questions.length) { document.getElementById('resIcon').innerText = "üèÜ"; document.getElementById('resTitle').innerText = "FANTASTIC!"; } 
            else { document.getElementById('resIcon').innerText = "‚ú®"; document.getElementById('resTitle').innerText = "WELL DONE!"; }
        }

        function resetQuiz() { cur = 0; correctCount = 0; document.getElementById('resOverlay').style.display = 'none'; loadQ(); }
    </script>
</body>
</html>
